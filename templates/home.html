<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>KxShare Control Center - Secure Repository Sharing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- GSAP Animation Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <style>
        :root {
            --primary: #ffd93d;   /* Yellow */
            --secondary: #66d9ef; /* Cyan */
            --pink: #ff6b9d;      /* Pink */
            --green: #a8e6cf;     /* Green */
            --bg: #f5f0e6;        /* Vintage Paper */
            --border: #000000;
            --card-bg: #ffffff;
            --shadow: 8px 8px 0px #000;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background-color: var(--bg);
            background-image: radial-gradient(var(--border) 1px, transparent 1px);
            background-size: 25px 25px;
            color: var(--border);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        /* --- TOP MARQUEE --- */
        .marquee-top {
            background: var(--border);
            color: var(--primary);
            padding: 10px 0;
            border-bottom: 4px solid var(--border);
            font-family: 'Space Mono', monospace;
            font-weight: 700;
            text-transform: uppercase;
            overflow: hidden;
            white-space: nowrap;
            z-index: 100;
        }

        .marquee-track {
            display: inline-block;
            animation: marqueeMove 25s linear infinite;
        }

        @keyframes marqueeMove {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); }
        }

        /* --- PAGE WRAPPER --- */
        .page-wrapper {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
        }

        /* --- STICKERS (Alignment Optimized) --- */
        .sticker {
            position: absolute;
            padding: 10px 15px;
            border: 3px solid var(--border);
            font-family: 'Space Mono';
            font-weight: bold;
            font-size: 0.7rem;
            box-shadow: 4px 4px 0px var(--border);
            z-index: 5;
            text-transform: uppercase;
            pointer-events: none;
        }
        .s-1 { top: 10%; left: 5%; background: var(--pink); transform: rotate(-10deg); }
        .s-2 { top: 15%; right: 5%; background: var(--secondary); transform: rotate(10deg); }

        /* --- MAIN DASHBOARD --- */
        .dashboard-container {
            max-width: 1050px;
            width: 100%;
            background: var(--card-bg);
            border: 4px solid var(--border);
            box-shadow: var(--shadow);
            padding: 35px;
            position: relative;
            z-index: 10;
        }

        .dashboard-container::before {
            content: "SYSTEM_VAULT_v4.0";
            position: absolute;
            top: -18px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary);
            padding: 5px 25px;
            border: 3px solid var(--border);
            font-family: 'Space Mono';
            font-weight: bold;
            font-size: 0.75rem;
            box-shadow: 4px 4px 0px var(--border);
        }

        /* --- HEADER --- */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 4px solid var(--border);
            padding-bottom: 20px;
            margin-bottom: 30px;
            gap: 20px;
        }

        .brand h1 {
            font-size: 2.5rem;
            text-transform: uppercase;
            letter-spacing: -2px;
            line-height: 1;
        }

        .brand span { background: var(--secondary); border: 3px solid var(--border); padding: 0 8px; }

        .btn-mini {
            padding: 12px 18px;
            background: var(--green);
            border: 3px solid var(--border);
            font-weight: 700;
            text-transform: uppercase;
            text-decoration: none;
            color: var(--border);
            box-shadow: 4px 4px 0px var(--border);
            font-size: 0.8rem;
            transition: 0.15s;
        }

        .btn-mini:hover { transform: translate(-2px, -2px); box-shadow: 6px 6px 0px var(--border); background: #fff; }

        /* --- COMPACT FORM GRID (3-Columns for Laptop) --- */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
        }

        .double-width { grid-column: span 2; }
        .full-width { grid-column: span 3; }

        .form-group { position: relative; }

        label {
            display: block;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.85rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        label i { color: var(--pink); }

        input, select {
            width: 100%;
            padding: 14px 16px;
            border: 3px solid var(--border);
            font-family: 'Space Mono', monospace;
            background: white;
            box-shadow: 4px 4px 0px var(--border);
            outline: none;
            transition: 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        input:focus, select:focus {
            transform: translate(-3px, -3px);
            box-shadow: 7px 7px 0px var(--secondary);
            background: #fffdf9;
        }

        .submit-btn {
            grid-column: span 3;
            padding: 22px;
            background: var(--primary);
            border: 4px solid var(--border);
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 700;
            font-size: 1.3rem;
            text-transform: uppercase;
            cursor: pointer;
            box-shadow: 6px 6px 0px var(--border);
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .submit-btn:hover { background: #fff; transform: translate(-4px, -4px); box-shadow: 10px 10px 0px var(--border); }

        /* --- FOOTER SOCIALS --- */
        .footer-dashboard {
            margin-top: 35px;
            padding-top: 25px;
            border-top: 4px dashed var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .creator-tag { font-family: 'Space Mono'; font-weight: bold; font-size: 0.9rem; }
        .creator-tag span { background: var(--pink); color: white; padding: 2px 10px; border: 2px solid #000; }

        .social-row { display: flex; gap: 15px; }
        .social-icon {
            width: 45px;
            height: 45px;
            background: #fff;
            border: 3px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            text-decoration: none;
            box-shadow: 4px 4px 0px var(--border);
            transition: 0.2s;
        }
        .social-icon:hover { transform: translate(-3px, -3px) rotate(10deg); box-shadow: 6px 6px 0px var(--pink); background: var(--pink); color: #fff; }

        /* --- PRIVACY POPUP (Cookie Style) --- */
        .privacy-popup {
            position: fixed;
            bottom: 25px;
            left: 25px;
            max-width: 320px;
            background: var(--primary);
            border: 4px solid var(--border);
            box-shadow: 8px 8px 0px var(--border);
            padding: 20px;
            z-index: 1000;
            display: none; /* Managed by GSAP */
            transform: translateX(-120%);
        }

        .privacy-popup h4 { font-size: 1rem; text-transform: uppercase; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
        .privacy-popup p { font-family: 'Space Mono'; font-size: 0.75rem; margin-bottom: 15px; line-height: 1.4; }
        .popup-btns { display: flex; gap: 10px; }
        .btn-small { padding: 8px 12px; border: 2px solid #000; font-size: 0.7rem; font-weight: bold; cursor: pointer; text-transform: uppercase; background: #fff; text-decoration: none; color: #000; }
        .btn-small.accept { background: var(--border); color: #fff; }

        /* --- TOKEN GUIDE MODAL --- */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .modal-overlay.active { display: flex; }
        
        .modal-box {
            background: white;
            border: 4px solid var(--border);
            box-shadow: 15px 15px 0px var(--border);
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            background: var(--primary);
            padding: 25px;
            border-bottom: 4px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .modal-header h2 {
            font-size: 1.6rem;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .close-btn {
            background: var(--pink);
            border: 3px solid var(--border);
            padding: 10px 20px;
            font-weight: 700;
            cursor: pointer;
            font-size: 1rem;
            transition: 0.2s;
            font-family: 'Space Grotesk', sans-serif;
            text-transform: uppercase;
        }
        
        .close-btn:hover {
            background: var(--border);
            color: white;
            transform: translate(-2px, -2px);
            box-shadow: 4px 4px 0px var(--pink);
        }
        
        .modal-body {
            padding: 35px;
        }
        
        .info-highlight {
            background: var(--primary);
            border: 3px solid var(--border);
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 4px 4px 0px var(--border);
        }
        
        .info-highlight strong {
            font-size: 1.1rem;
            display: block;
            margin-bottom: 10px;
        }
        
        .info-highlight p {
            font-family: 'Space Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .guide-step {
            margin: 25px 0;
            padding: 25px;
            background: var(--bg);
            border: 3px solid var(--border);
            box-shadow: 5px 5px 0px var(--border);
        }
        
        .step-num {
            background: var(--secondary);
            color: white;
            width: 45px;
            height: 45px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border: 3px solid var(--border);
            font-weight: 700;
            margin-right: 15px;
            font-size: 1.3rem;
            box-shadow: 3px 3px 0px var(--border);
        }
        
        .guide-step h3 {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .guide-step p {
            font-family: 'Space Mono', monospace;
            font-size: 0.95rem;
            line-height: 1.8;
            margin-left: 60px;
        }
        
        .guide-step code {
            background: white;
            border: 2px solid var(--border);
            padding: 3px 10px;
            font-weight: 700;
            color: var(--pink);
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 1024px) {
            .form-grid { grid-template-columns: 1fr 1fr; }
            .double-width, .submit-btn, .full-width { grid-column: span 2; }
        }

        @media (max-width: 768px) {
            .form-grid { grid-template-columns: 1fr; }
            .double-width, .submit-btn, .full-width { grid-column: span 1; }
            .header { flex-direction: column; text-align: center; gap: 15px; }
            .sticker, .privacy-popup { display: none !important; }
            .modal-box { max-width: 95%; max-height: 95vh; }
            .modal-body { padding: 20px 15px; }
            .guide-step { padding: 18px; }
            .guide-step p { margin-left: 0; margin-top: 12px; }
            .modal-header h2 { font-size: 1.2rem; }
            .submit-btn { padding: 15px; font-size: 0.9rem; gap: 8px; }
        }
    </style>
</head>
<body>

    <!-- MARQUEE BANNER -->
    <div class="marquee-top">
        <div class="marquee-track">
            üöÄ KXSHARE IS NOW OPENSOURCE! ANYONE CAN CONTRIBUTE ‚Ä¢ CONTRIBUTE ON GITHUB ‚Ä¢ SECURE REPOSITORY SHARING ‚Ä¢ AUTO-DELETION PROTOCOL ENABLED ‚Ä¢ PRIVACY FIRST ‚Ä¢ üöÄ
        </div>
    </div>

    <div class="page-wrapper">
        <!-- STICKERS -->
        <div class="sticker s-1">AES-256 ENCRYPTED</div>
        <div class="sticker s-2">OPENSOURCE v3.0</div>

        <!-- MAIN DASHBOARD -->
        <main class="dashboard-container" id="mainDashboard">
            
            <header class="header">
                <div class="brand">
                    <h1>Kx<span>SHARE</span></h1>
                    <p style="font-family: 'Space Mono'; font-size: 0.75rem; margin-top: 8px;">// TERMINAL_ACCESS_CONNECTED</p>
                </div>
                <div class="header-actions">
                    <button onclick="openTokenGuide()" class="btn-mini" style="cursor: pointer;"><i class="fas fa-terminal"></i> Get Token</button>
                </div>
            </header>

            <form method="POST">
                <div class="form-grid">
                    <!-- GitHub Token -->
                    <div class="form-group double-width">
                        <label><i class="fas fa-key"></i> GitHub Access Token</label>
                        <input type="password" name="token" placeholder="ghp_xxxxxxxxxxxx" value="{{ saved_token }}" required>
                        <div style="margin-top: 12px; display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" name="save_token" value="yes" id="saveToken" {% if saved_token %}checked{% endif %} style="width: 22px; height: 22px; cursor: pointer;">
                            <label for="saveToken" style="margin: 0; font-weight: normal; cursor: pointer; text-transform: none;">Remember Token (Encrypted Session)</label>
                        </div>
                    </div>

                    <!-- Expiry -->
                    <div class="form-group">
                        <label><i class="fas fa-hourglass-half"></i> Link Expiry</label>
                        <select name="expiry_days">
                            <option value="1">1 Day</option>
                            <option value="7" selected>7 Days</option>
                            <option value="30">30 Days</option>
                        </select>
                    </div>

                    <!-- Repo URL -->
                    <div class="form-group double-width">
                        <label><i class="fab fa-github"></i> Repository URL</label>
                        <input type="text" name="repo_url" placeholder="https://github.com/owner/repo" required>
                    </div>

                    <!-- Password -->
                    <div class="form-group">
                        <label><i class="fas fa-lock"></i> Pass-Protection</label>
                        <input type="password" name="protection_password" placeholder="Optional Password">
                    </div>

                    <!-- SUBMIT -->
                    <button type="submit" class="submit-btn" id="submitBtn">
                        <i class="fas fa-rocket"></i> GENERATE SECURE LINK
                    </button>
                </div>
            </form>

            <div class="footer-dashboard">
                <div class="creator-tag">CREATED BY <span>KARANNKX</span></div>
                <div class="social-row">
                    <a href="https://github.com/Karannkx" class="social-icon" target="_blank"><i class="fab fa-github"></i></a>
                    <a href="https://linkedin.com/in/Karannkx" class="social-icon" target="_blank"><i class="fab fa-linkedin"></i></a>
                    <a href="https://instagram.com/Karannkx" class="social-icon" target="_blank"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </main>
    </div>

    <!-- PRIVACY POPUP -->
    <div class="privacy-popup" id="privacyPopup">
        <h4><i class="fas fa-shield-alt"></i> Privacy Guard</h4>
        <p>Tokens are AES-256 encrypted and auto-deleted upon link expiry. No repository content is ever stored on our servers.</p>
        <div class="popup-btns">
            <button class="btn-small accept" onclick="closePopup()">I Trust It</button>
            <a href="/privacy-policy" class="btn-small">Read More</a>
        </div>
    </div>

    <footer style="text-align: center; padding: 15px; font-family: 'Space Mono'; font-size: 0.7rem; opacity: 0.5;">
        // KXSHARE_SECURE_ENDPOINT_2025 //
    </footer>
    
    <!-- Token Guide Modal -->
    <div class="modal-overlay" id="tokenModal">
        <div class="modal-box">
            <div class="modal-header">
                <h2><i class="fas fa-graduation-cap"></i> How to Get GitHub Token</h2>
                <button onclick="closeTokenGuide()" class="close-btn">‚úï CLOSE</button>
            </div>
            <div class="modal-body">
                <div class="info-highlight">
                    <strong><i class="fas fa-lightbulb"></i> Why do I need a token?</strong>
                    <p>GitHub tokens allow secure access to private repositories. Your token is encrypted with AES-256 and never stored in plain text.</p>
                </div>

                <div class="guide-step">
                    <h3><span class="step-num">1</span> Go to GitHub Settings</h3>
                    <p>‚Ä¢ Click your profile picture in the top-right corner<br>
                    ‚Ä¢ Select <strong>Settings</strong> from the dropdown menu</p>
                </div>
                
                <div class="guide-step">
                    <h3><span class="step-num">2</span> Open Developer Settings</h3>
                    <p>‚Ä¢ Scroll down to the bottom of the left sidebar<br>
                    ‚Ä¢ Click <strong>Developer settings</strong> (last option)</p>
                </div>
                
                <div class="guide-step">
                    <h3><span class="step-num">3</span> Generate Personal Access Token</h3>
                    <p>‚Ä¢ Click <strong>Personal access tokens</strong> in the left menu<br>
                    ‚Ä¢ Select <strong>Tokens (classic)</strong><br>
                    ‚Ä¢ Click <strong>Generate new token (classic)</strong> button</p>
                </div>
                
                <div class="guide-step">
                    <h3><span class="step-num">4</span> Configure Token Permissions</h3>
                    <p>‚Ä¢ Give a descriptive name (e.g., "KxShare Access")<br>
                    ‚Ä¢ Set expiration as needed (recommended: 90 days)<br>
                    ‚Ä¢ Select <strong>ALL scopes/permissions</strong><br>
                    ‚Ä¢ Most important: <code>repo</code>, <code>read:org</code>, <code>user</code><br>
                    ‚Ä¢ Scroll down and click <strong>Generate token</strong></p>
                </div>
                
                <div class="guide-step">
                    <h3><span class="step-num">5</span> Copy & Use Token</h3>
                    <p>‚Ä¢ Copy the generated token (starts with <code>ghp_</code>)<br>
                    ‚Ä¢ <strong>‚ö†Ô∏è IMPORTANT:</strong> Save it somewhere safe - you won't see it again!<br>
                    ‚Ä¢ Paste it in the KxShare form above<br>
                    ‚Ä¢ Enable "Remember Token" option for future use</p>
                </div>

                <div class="info-highlight" style="background: #ffe6e6; border-color: var(--pink);">
                    <strong><i class="fas fa-shield-alt"></i> Security Tips</strong>
                    <p style="text-align: left; margin-top: 10px;">
                        ‚Ä¢ Never share your token publicly<br>
                        ‚Ä¢ Rotate tokens every 90 days<br>
                        ‚Ä¢ Only grant necessary permissions<br>
                        ‚Ä¢ KxShare encrypts your token end-to-end
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tl = gsap.timeline();

            // 1. Dashboard Animation
            tl.from("#mainDashboard", {
                duration: 0.8,
                y: 50,
                opacity: 0,
                ease: "power3.out"
            });

            // 2. Stickers Animation
            tl.from(".sticker", {
                duration: 0.5,
                scale: 0,
                stagger: 0.2,
                ease: "back.out(1.7)"
            }, "-=0.3");

            // 3. Privacy Popup Entrance (Delayed)
            gsap.to("#privacyPopup", {
                display: "block",
                x: 0,
                duration: 0.8,
                delay: 2,
                ease: "elastic.out(1, 0.75)"
            });

            // Floating Effect
            gsap.to(".sticker", {
                y: 10,
                duration: 2,
                repeat: -1,
                yoyo: true,
                ease: "sine.inOut",
                stagger: 0.4
            });
        });

        function closePopup() {
            gsap.to("#privacyPopup", {
                x: -400,
                duration: 0.5,
                ease: "power3.in",
                onComplete: () => document.getElementById('privacyPopup').style.display = 'none'
            });
        }
        
        // Token Guide Modal
        function openTokenGuide() {
            document.getElementById('tokenModal').classList.add('active');
            gsap.from('.modal-box', {
                scale: 0.8,
                opacity: 0,
                duration: 0.4,
                ease: "back.out(1.7)"
            });
        }
        
        function closeTokenGuide() {
            const modal = document.getElementById('tokenModal');
            gsap.to('.modal-box', {
                scale: 0.8,
                opacity: 0,
                duration: 0.3,
                ease: "power2.in",
                onComplete: () => modal.classList.remove('active')
            });
        }
        
        // Close on outside click
        document.getElementById('tokenModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeTokenGuide();
            }
        });
    </script>
</body>
</html>